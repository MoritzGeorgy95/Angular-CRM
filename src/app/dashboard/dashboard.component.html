<div class="dashboard">
  <div class="widget-container">
    <div
      class="widget date"
      cdkDrag
      cdkDragBoundary=".widget-container"
      #widget
      (cdkDragEnded)="getWidgetFinalPos($event)"
    >
      <h2>
        {{ formattedDate }}
      </h2>
      <img src="assets/img/clock.png" alt="" class="widget-icon clock" />
    </div>

    <div
      class="widget weather"
      cdkDrag
      cdkDragBoundary=".widget-container"
      #widget
      (cdkDragEnded)="getWidgetFinalPos($event)"
    >
      <div *ngIf="cityName && temperature">
        <h2>
          {{ cityName }}
        </h2>
        <h2>{{ temperature }} CÂ°</h2>
        <img [src]="'assets/img/icons/' + weatherIcon + '.svg'" alt="" />
      </div>

      <div *ngIf="!cityName && !temperature" class="fetching-weather-container">
        <h2>Fetching weather data</h2>
        <mat-spinner></mat-spinner>
      </div>
    </div>
    <div
      class="widget notifications"
      cdkDrag
      cdkDragBoundary=".widget-container"
      #widget
      (cdkDragEnded)="getWidgetFinalPos($event)"
    >
      <div class="widget-description-container">
        <img src="assets/img/notifications.png" alt="" class="widget-icon" />
        <h2>Notifications</h2>
      </div>
    </div>
    <div
      class="widget calendar"
      cdkDrag
      cdkDragBoundary=".widget-container"
      #widget
      (cdkDragStarted)="dragging= true"
      (click)="openCalendarViewDialog()"
      (cdkDragEnded)="getWidgetFinalPos($event)"
      
    >
      <div class="widget-description-container">
        <!-- <mat-icon>calendar_month</mat-icon> -->
        <img src="assets/img/calendar.png" alt="" class="widget-icon calendar"/>
        <h2>Client Calendar</h2>
      </div>
    </div>
    <div
      class="widget notepad"
      cdkDrag
      cdkDragBoundary=".widget-container"
      #widget
      (cdkDragStarted)="dragging= true"
      (cdkDragEnded)="getWidgetFinalPos($event)"
      (click)="openNotepadDialog(notes)"
      [style.justify-content]="notes.length === 0 ? 'center' : ''"
    >
      <div class="widget-description-container">
        <img src="assets/img/notes.png" alt="" class="widget-icon"/>
        <h2>Notepad</h2>
      </div>
      <div class="notes-container" *ngIf="notes.length > 0" >
        <ul>
          <li *ngFor="let note of notes">
            {{ note }}
          </li>
        </ul>
      </div>
      <div class="frozen-glass"></div>
    </div>
  </div>
  <!-- <button
        mat-fab
        class="add-user-btn"
        matTooltip="Add new Widget to dashboard"
      >
        <mat-icon>add</mat-icon>
      </button> -->
</div>
